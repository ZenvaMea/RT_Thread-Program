# RT-Thread å¤–éª¨éª¼æ‰‹æŒ‡æ§åˆ¶ç³»ç»Ÿ - å‘½ä»¤å‚è€ƒæ‰‹å†Œ

> **ç‰ˆæœ¬**: v1.0
> **æ›´æ–°æ—¥æœŸ**: 2025-11-15
> **ä½œè€…**: Cc

---

## ğŸ“‹ ç›®å½•

1. [WiFiç®¡ç†å‘½ä»¤](#1-wifiç®¡ç†å‘½ä»¤)
2. [èˆµæœºæ§åˆ¶å‘½ä»¤](#2-èˆµæœºæ§åˆ¶å‘½ä»¤)
3. [HMIä¸²å£å±å‘½ä»¤](#3-hmiä¸²å£å±å‘½ä»¤)
4. [ç³»ç»Ÿå‘½ä»¤](#4-ç³»ç»Ÿå‘½ä»¤)
5. [å¿«é€Ÿå¼€å§‹æŒ‡å—](#5-å¿«é€Ÿå¼€å§‹æŒ‡å—)

---

## 1. WiFiç®¡ç†å‘½ä»¤

### 1.1 `connect_esp32` - å¿«é€Ÿè¿æ¥ESP32

**åŠŸèƒ½**: å¿«é€Ÿè¿æ¥åˆ°é¢„è®¾çš„ESP32 WiFi AP

**è¯­æ³•**:
```shell
connect_esp32
```

**è¯´æ˜**:
- SSID: `ESP32_DEV`
- å¯†ç : `12345678`
- è‡ªåŠ¨ç­‰å¾…è¿æ¥æˆåŠŸï¼ˆ30ç§’è¶…æ—¶ï¼‰
- è‡ªåŠ¨è·å–å¹¶æ˜¾ç¤ºIPåœ°å€
- è‡ªåŠ¨æ›´æ–°HMIæ˜¾ç¤º

**ç¤ºä¾‹**:
```shell
msh /> connect_esp32
[I/wifi.mgr] Connecting to ESP32 AP...
[I/wifi.mgr] SSID: ESP32_DEV
[I/wifi.mgr] Waiting for WiFi ready (30s timeout)...
[I/wifi.mgr] WiFi connected successfully!
[I/wifi.mgr] IP Address: 192.168.4.10
```

---

### 1.2 `wifi_join` - è¿æ¥æŒ‡å®šWiFi

**åŠŸèƒ½**: è¿æ¥åˆ°ä»»æ„WiFiç½‘ç»œ

**è¯­æ³•**:
```shell
wifi_join <ssid> [password]
```

**å‚æ•°**:
- `ssid` - WiFiç½‘ç»œåç§°ï¼ˆå¿…å¡«ï¼‰
- `password` - WiFiå¯†ç ï¼ˆå¯é€‰ï¼Œå¼€æ”¾ç½‘ç»œä¸éœ€è¦ï¼‰

**ç¤ºä¾‹**:
```shell
# è¿æ¥åˆ°æœ‰å¯†ç çš„WiFi
msh /> wifi_join MyHomeWiFi 12345678

# è¿æ¥åˆ°å¼€æ”¾WiFi
msh /> wifi_join FreeWiFi
```

---

### 1.3 `wifi_leave` - æ–­å¼€WiFiè¿æ¥

**åŠŸèƒ½**: æ–­å¼€å½“å‰WiFiè¿æ¥

**è¯­æ³•**:
```shell
wifi_leave
```

**ç¤ºä¾‹**:
```shell
msh /> wifi_leave
Disconnecting WiFi...
WiFi disconnected
```

---

### 1.4 `wifi_info` - æŸ¥çœ‹WiFiçŠ¶æ€

**åŠŸèƒ½**: æ˜¾ç¤ºWiFiè¿æ¥è¯¦ç»†ä¿¡æ¯

**è¯­æ³•**:
```shell
wifi_info
```

**è¾“å‡ºä¿¡æ¯**:
- è¿æ¥çŠ¶æ€ï¼ˆå·²è¿æ¥/æœªè¿æ¥/è¿æ¥ä¸­/è¿æ¥å¤±è´¥ï¼‰
- SSIDï¼ˆç½‘ç»œåç§°ï¼‰
- BSSIDï¼ˆè·¯ç”±å™¨MACåœ°å€ï¼‰
- RSSIï¼ˆä¿¡å·å¼ºåº¦ï¼Œå•ä½dBmï¼‰
- Channelï¼ˆä¿¡é“ï¼‰
- IPåœ°å€

**ç¤ºä¾‹**:
```shell
msh /> wifi_info
========== WiFi Status ==========
Status: Connected
SSID: ESP32_DEV
BSSID: 24:0A:C4:12:34:56
RSSI: -45 dBm
Channel: 1
IP Address: 192.168.4.10
=================================
```

---

## 2. èˆµæœºæ§åˆ¶å‘½ä»¤

### 2.1 `serv move` - æ§åˆ¶å•ä¸ªèˆµæœºç§»åŠ¨

**åŠŸèƒ½**: æŒ‰IDæ§åˆ¶æŒ‡å®šèˆµæœºç§»åŠ¨åˆ°æŒ‡å®šä½ç½®

**è¯­æ³•**:
```shell
serv move <servo_id> <position> [speed]
```

**å‚æ•°**:
- `servo_id` - èˆµæœºIDï¼ˆ0-3ï¼Œå¯¹åº”é£ŸæŒ‡ã€ä¸­æŒ‡ã€æ— åæŒ‡ã€å°æŒ‡ï¼‰
- `position` - ç›®æ ‡ä½ç½®
  - `0` = ä¸­é—´ä½ç½®
  - `1` = æœ€å¤§ä½ç½®ï¼ˆå±•å¼€ï¼‰
  - `2` = æœ€å°ä½ç½®ï¼ˆæ”¶ç¼©ï¼‰
- `speed` - é€Ÿåº¦çº§åˆ«ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸ºå½“å‰é€Ÿåº¦ï¼‰
  - `1` = æ…¢é€Ÿ
  - `2` = ä¸­é€Ÿ
  - `3` = å¿«é€Ÿ
  - `4` = æœ€å¿«

**ç¤ºä¾‹**:
```shell
# èˆµæœº0ç§»åŠ¨åˆ°ä¸­é—´ä½ç½®ï¼Œä¸­é€Ÿ
msh /> serv move 0 0 2

# èˆµæœº1ç§»åŠ¨åˆ°æœ€å¤§ä½ç½®ï¼Œå¿«é€Ÿ
msh /> serv move 1 1 3

# èˆµæœº2ç§»åŠ¨åˆ°æœ€å°ä½ç½®ï¼Œä½¿ç”¨å½“å‰é€Ÿåº¦
msh /> serv move 2 2
```

---

### 2.2 `serv all_mid` - æ‰€æœ‰èˆµæœºå›ä¸­ä½

**åŠŸèƒ½**: æ§åˆ¶æ‰€æœ‰èˆµæœºç§»åŠ¨åˆ°ä¸­é—´ä½ç½®

**è¯­æ³•**:
```shell
serv all_mid [speed]
```

**å‚æ•°**:
- `speed` - é€Ÿåº¦çº§åˆ«ï¼ˆå¯é€‰ï¼Œ1-4ï¼‰

**ç¤ºä¾‹**:
```shell
# æ‰€æœ‰èˆµæœºå›ä¸­ä½ï¼Œå¿«é€Ÿ
msh /> serv all_mid 3

# æ‰€æœ‰èˆµæœºå›ä¸­ä½ï¼Œä½¿ç”¨å½“å‰é€Ÿåº¦
msh /> serv all_mid
```

---

### 2.3 `serv all_stop` - åœæ­¢æ‰€æœ‰èˆµæœº

**åŠŸèƒ½**: ç«‹å³åœæ­¢æ‰€æœ‰èˆµæœºè¿åŠ¨

**è¯­æ³•**:
```shell
serv all_stop
```

**ç¤ºä¾‹**:
```shell
msh /> serv all_stop
Stopping all servos...
All servos stopped
```

---

### 2.4 `serv all_ton` / `serv all_toff` - èˆµæœºæ‰­çŸ©å¼€å…³

**åŠŸèƒ½**: æ‰“å¼€æˆ–å…³é—­æ‰€æœ‰èˆµæœºçš„æ‰­çŸ©

**è¯­æ³•**:
```shell
serv all_ton   # æ‰“å¼€æ‰­çŸ©ï¼ˆèˆµæœºé”å®šï¼‰
serv all_toff  # å…³é—­æ‰­çŸ©ï¼ˆèˆµæœºå¯è‡ªç”±è½¬åŠ¨ï¼‰
```

**è¯´æ˜**:
- `all_ton` - èˆµæœºä¿æŒå½“å‰ä½ç½®ï¼Œæœ‰æŠ—åŠ›
- `all_toff` - èˆµæœºå¤±å»åŠ¨åŠ›ï¼Œå¯æ‰‹åŠ¨è½¬åŠ¨

**ç¤ºä¾‹**:
```shell
# æ‰“å¼€æ‰€æœ‰èˆµæœºæ‰­çŸ©
msh /> serv all_ton

# å…³é—­æ‰€æœ‰èˆµæœºæ‰­çŸ©
msh /> serv all_toff
```

---

### 2.5 `serv all_speed` - è®¾ç½®æ‰€æœ‰èˆµæœºé€Ÿåº¦

**åŠŸèƒ½**: ç»Ÿä¸€è®¾ç½®æ‰€æœ‰èˆµæœºçš„è¿åŠ¨é€Ÿåº¦

**è¯­æ³•**:
```shell
serv all_speed <speed>
```

**å‚æ•°**:
- `speed` - é€Ÿåº¦çº§åˆ«ï¼ˆ1-4ï¼‰

**ç¤ºä¾‹**:
```shell
# è®¾ç½®æ‰€æœ‰èˆµæœºä¸ºæœ€å¿«é€Ÿåº¦
msh /> serv all_speed 4
```

---

### 2.6 `serv multi` - æ‰¹é‡æ§åˆ¶å¤šä¸ªèˆµæœº

**åŠŸèƒ½**: åŒæ—¶æ§åˆ¶å¤šä¸ªèˆµæœºç§»åŠ¨åˆ°ä¸åŒä½ç½®

**è¯­æ³•**:
```shell
serv multi <id_list> <pos_list>
```

**å‚æ•°**:
- `id_list` - èˆµæœºIDåˆ—è¡¨ï¼Œç”¨é€—å·åˆ†éš”ï¼ˆå¦‚: 0,1,2ï¼‰
- `pos_list` - ä½ç½®åˆ—è¡¨ï¼Œç”¨é€—å·åˆ†éš”ï¼ˆå¦‚: 0,1,2ï¼‰

**ç¤ºä¾‹**:
```shell
# èˆµæœº0åˆ°ä¸­é—´ï¼Œèˆµæœº1åˆ°æœ€å¤§ï¼Œèˆµæœº2åˆ°æœ€å°
msh /> serv multi 0,1,2 0,1,2

# èˆµæœº0å’Œ1éƒ½åˆ°æœ€å¤§ä½ç½®
msh /> serv multi 0,1 1,1
```

---

### 2.7 `serv home` - é¢„è®¾åŠ¨ä½œï¼šå›åŸä½

**åŠŸèƒ½**: æ‰§è¡Œé¢„è®¾çš„å›åŸä½åŠ¨ä½œï¼ˆæ‰€æœ‰èˆµæœºå›ä¸­ä½ï¼‰

**è¯­æ³•**:
```shell
serv home
```

**ç¤ºä¾‹**:
```shell
msh /> serv home
Executing preset: HOME
All servos moved to middle position
```

---

### 2.8 `serv wave` - é¢„è®¾åŠ¨ä½œï¼šæ³¢æµªåŠ¨ä½œ

**åŠŸèƒ½**: æ‰§è¡Œæ³¢æµªåŠ¨ä½œï¼ˆèˆµæœºä¾æ¬¡å±•å¼€å†ä¾æ¬¡æ”¶ç¼©ï¼‰

**è¯­æ³•**:
```shell
serv wave <cycles> [speed]
```

**å‚æ•°**:
- `cycles` - é‡å¤æ¬¡æ•°
- `speed` - é€Ÿåº¦çº§åˆ«ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸­é€Ÿï¼‰

**ç¤ºä¾‹**:
```shell
# æ³¢æµªåŠ¨ä½œ3æ¬¡ï¼Œä¸­é€Ÿ
msh /> serv wave 3 2

# æ³¢æµªåŠ¨ä½œ5æ¬¡ï¼Œå¿«é€Ÿ
msh /> serv wave 5 3
```

---

### 2.9 `serv seq` - é¢„è®¾åŠ¨ä½œï¼šä¾æ¬¡åŠ¨ä½œ

**åŠŸèƒ½**: èˆµæœºä¾æ¬¡ç§»åŠ¨åˆ°æœ€å¤§ã€æœ€å°ã€ä¸­é—´ä½ç½®

**è¯­æ³•**:
```shell
serv seq [speed]
```

**å‚æ•°**:
- `speed` - é€Ÿåº¦çº§åˆ«ï¼ˆå¯é€‰ï¼‰

**ç¤ºä¾‹**:
```shell
# ä¾æ¬¡åŠ¨ä½œï¼Œä¸­é€Ÿ
msh /> serv seq 2
```

---

### 2.10 `servo_test` - å…¨åŠŸèƒ½è‡ªåŠ¨æµ‹è¯•

**åŠŸèƒ½**: è‡ªåŠ¨æµ‹è¯•æ‰€æœ‰èˆµæœºçš„æ‰€æœ‰åŠŸèƒ½

**è¯­æ³•**:
```shell
servo_test
```

**æµ‹è¯•å†…å®¹**:
1. æµ‹è¯•æ‰€æœ‰èˆµæœºå•ç‹¬æ§åˆ¶
2. æµ‹è¯•æ‰€æœ‰èˆµæœºåŒæ—¶æ§åˆ¶
3. æµ‹è¯•æ‰¹é‡æ§åˆ¶
4. æµ‹è¯•é€Ÿåº¦æ§åˆ¶
5. æµ‹è¯•é¢„è®¾åŠ¨ä½œ

**ç¤ºä¾‹**:
```shell
msh /> servo_test
========== Servo Test ==========
Testing individual control...
Testing all servos control...
Testing multi-servo control...
Testing speed control...
Testing preset actions...
========== Test Complete ==========
```

---

## 3. HMIä¸²å£å±å‘½ä»¤

### 3.1 `hmi_test text` - è®¾ç½®æ–‡æœ¬å†…å®¹

**åŠŸèƒ½**: è®¾ç½®ä¸²å£å±ä¸Šæ–‡æœ¬æ§ä»¶çš„å†…å®¹

**è¯­æ³•**:
```shell
hmi_test text <object_name> <text>
```

**å‚æ•°**:
- `object_name` - æ§ä»¶åç§°ï¼ˆå¦‚: t0, t_msg, t_wifiç­‰ï¼‰
- `text` - è¦æ˜¾ç¤ºçš„æ–‡æœ¬å†…å®¹

**ç¤ºä¾‹**:
```shell
# è®¾ç½®æ¶ˆæ¯æ–‡æœ¬
msh /> hmi_test text t_msg "Hello World"

# è®¾ç½®WiFiçŠ¶æ€æ–‡æœ¬
msh /> hmi_test text t_wifi "Connected"
```

---

### 3.2 `hmi_test value` - è®¾ç½®æ•°å€¼å†…å®¹

**åŠŸèƒ½**: è®¾ç½®ä¸²å£å±ä¸Šæ•°å€¼æ§ä»¶çš„å€¼

**è¯­æ³•**:
```shell
hmi_test value <object_name> <value>
```

**å‚æ•°**:
- `object_name` - æ§ä»¶åç§°ï¼ˆå¦‚: n0, n_servo1ç­‰ï¼‰
- `value` - æ•°å€¼

**ç¤ºä¾‹**:
```shell
# è®¾ç½®èˆµæœº1ä½ç½®æ˜¾ç¤ºä¸º2048
msh /> hmi_test value n_servo1 2048

# è®¾ç½®ä¿¡å·å¼ºåº¦æ˜¾ç¤ºä¸º-45
msh /> hmi_test value n_rssi -45
```

---

### 3.3 `hmi_test button` - æ¨¡æ‹ŸæŒ‰é’®ç‚¹å‡»

**åŠŸèƒ½**: æ¨¡æ‹Ÿä¸²å£å±æŒ‰é’®ç‚¹å‡»äº‹ä»¶

**è¯­æ³•**:
```shell
hmi_test button <button_name> <state>
```

**å‚æ•°**:
- `button_name` - æŒ‰é’®åç§°ï¼ˆå¦‚: b0, b_servo1ç­‰ï¼‰
- `state` - æŒ‰é’®çŠ¶æ€ï¼ˆ0=é‡Šæ”¾ï¼Œ1=æŒ‰ä¸‹ï¼‰

**ç¤ºä¾‹**:
```shell
# æ¨¡æ‹ŸæŒ‰ä¸‹æŒ‰é’®b0
msh /> hmi_test button b0 1

# æ¨¡æ‹Ÿé‡Šæ”¾æŒ‰é’®b0
msh /> hmi_test button b0 0
```

---

### 3.4 `hmi_test wifi` - æµ‹è¯•WiFiæ˜¾ç¤º

**åŠŸèƒ½**: æµ‹è¯•WiFiçŠ¶æ€æ˜¾ç¤ºåŠŸèƒ½

**è¯­æ³•**:
```shell
hmi_test wifi
```

**æ•ˆæœ**:
- æ˜¾ç¤ºæµ‹è¯•WiFiåç§°: "Test_WiFi"
- æ˜¾ç¤ºæµ‹è¯•IPåœ°å€: "192.168.1.100"
- æ˜¾ç¤ºæµ‹è¯•ä¿¡å·å¼ºåº¦: -45 dBm

**ç¤ºä¾‹**:
```shell
msh /> hmi_test wifi
WiFi status updated
```

---

### 3.5 `hmi_test servo` - æµ‹è¯•èˆµæœºæ˜¾ç¤º

**åŠŸèƒ½**: æµ‹è¯•èˆµæœºä½ç½®æ˜¾ç¤ºåŠŸèƒ½

**è¯­æ³•**:
```shell
hmi_test servo <servo_id> <position>
```

**å‚æ•°**:
- `servo_id` - èˆµæœºIDï¼ˆ1-4ï¼‰
- `position` - ä½ç½®å€¼ï¼ˆ0-4095ï¼‰

**ç¤ºä¾‹**:
```shell
# æ˜¾ç¤ºèˆµæœº1ä½ç½®ä¸º2048
msh /> hmi_test servo 1 2048

# æ˜¾ç¤ºèˆµæœº2ä½ç½®ä¸º4095
msh /> hmi_test servo 2 4095
```

---

### 3.6 `hmi_test system` - æµ‹è¯•ç³»ç»Ÿä¿¡æ¯æ˜¾ç¤º

**åŠŸèƒ½**: æµ‹è¯•ç³»ç»Ÿä¿¡æ¯æ˜¾ç¤ºåŠŸèƒ½

**è¯­æ³•**:
```shell
hmi_test system
```

**æ•ˆæœ**:
- CPUä½¿ç”¨ç‡: 25%
- å†…å­˜ä½¿ç”¨: 128/456 KB
- è¿è¡Œæ—¶é—´: 01:01:01

**ç¤ºä¾‹**:
```shell
msh /> hmi_test system
System info updated
```

---

## 4. ç³»ç»Ÿå‘½ä»¤

### 4.1 `help` - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

**åŠŸèƒ½**: æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤åˆ—è¡¨

**è¯­æ³•**:
```shell
help
```

---

### 4.2 `list_thread` - æ˜¾ç¤ºçº¿ç¨‹åˆ—è¡¨

**åŠŸèƒ½**: æ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸­æ‰€æœ‰çº¿ç¨‹çš„çŠ¶æ€

**è¯­æ³•**:
```shell
list_thread
```

**è¾“å‡ºä¿¡æ¯**:
- çº¿ç¨‹åç§°
- ä¼˜å…ˆçº§
- çŠ¶æ€
- æ ˆå¤§å°
- æœ€å¤§æ ˆä½¿ç”¨

---

### 4.3 `list_timer` - æ˜¾ç¤ºå®šæ—¶å™¨åˆ—è¡¨

**åŠŸèƒ½**: æ˜¾ç¤ºç³»ç»Ÿå®šæ—¶å™¨çŠ¶æ€

**è¯­æ³•**:
```shell
list_timer
```

---

### 4.4 `free` - æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ

**åŠŸèƒ½**: æ˜¾ç¤ºç³»ç»Ÿå†…å­˜ä½¿ç”¨ç»Ÿè®¡

**è¯­æ³•**:
```shell
free
```

---

### 4.5 `ps` - æ˜¾ç¤ºè¿›ç¨‹çŠ¶æ€

**åŠŸèƒ½**: æ˜¾ç¤ºæ‰€æœ‰çº¿ç¨‹çš„è¯¦ç»†è¿è¡ŒçŠ¶æ€

**è¯­æ³•**:
```shell
ps
```

---

## 5. å¿«é€Ÿå¼€å§‹æŒ‡å—

### 5.1 åŸºç¡€ä½¿ç”¨æµç¨‹

```shell
# 1. è¿æ¥WiFi
msh /> connect_esp32
[I/wifi.mgr] WiFi connected successfully!
[I/wifi.mgr] IP Address: 192.168.4.10

# 2. æµ‹è¯•å•ä¸ªèˆµæœº
msh /> serv move 0 0 2
[I/servo.adv] Servo 0 moved to position 0 (speed: 2)

# 3. æµ‹è¯•æ‰€æœ‰èˆµæœºå›ä¸­ä½
msh /> serv all_mid 3
[I/servo.adv] Moving all servos to middle position (speed: 3)

# 4. æ‰§è¡Œæ³¢æµªåŠ¨ä½œ
msh /> serv wave 3 2
[I/servo.adv] Executing preset: WAVE (cycles: 3, speed: 2)

# 5. æŸ¥çœ‹WiFiçŠ¶æ€
msh /> wifi_info
========== WiFi Status ==========
Status: Connected
SSID: ESP32_DEV
IP Address: 192.168.4.10
=================================
```

---

### 5.2 å¸¸ç”¨æ“ä½œç¤ºä¾‹

#### åœºæ™¯1ï¼šæ‰‹åŠ¨æ§åˆ¶èˆµæœº

```shell
# æ§åˆ¶é£ŸæŒ‡ï¼ˆèˆµæœº0ï¼‰å±•å¼€
msh /> serv move 0 1 3

# æ§åˆ¶ä¸­æŒ‡ï¼ˆèˆµæœº1ï¼‰æ”¶ç¼©
msh /> serv move 1 2 3

# æ‰€æœ‰æ‰‹æŒ‡å›ä¸­ä½
msh /> serv all_mid 2
```

#### åœºæ™¯2ï¼šæ¼”ç¤ºåŠ¨ä½œ

```shell
# 1. æ‰€æœ‰èˆµæœºå›åŸä½
msh /> serv home

# 2. æ‰§è¡Œæ³¢æµªåŠ¨ä½œ5æ¬¡
msh /> serv wave 5 3

# 3. æ‰§è¡Œä¾æ¬¡åŠ¨ä½œ
msh /> serv seq 2

# 4. æ‰€æœ‰èˆµæœºå›ä¸­ä½
msh /> serv all_mid 2
```

#### åœºæ™¯3ï¼šHMIæ˜¾ç¤ºæµ‹è¯•

```shell
# æµ‹è¯•WiFiæ˜¾ç¤º
msh /> hmi_test wifi

# æµ‹è¯•èˆµæœºä½ç½®æ˜¾ç¤º
msh /> hmi_test servo 1 2048
msh /> hmi_test servo 2 3000

# æµ‹è¯•ç³»ç»Ÿä¿¡æ¯æ˜¾ç¤º
msh /> hmi_test system

# è®¾ç½®è‡ªå®šä¹‰æ¶ˆæ¯
msh /> hmi_test text t_msg "System Ready"
```

#### åœºæ™¯4ï¼šå®Œæ•´åŠŸèƒ½æµ‹è¯•

```shell
# 1. è¿æ¥WiFi
msh /> connect_esp32

# 2. è¿è¡Œè‡ªåŠ¨æµ‹è¯•
msh /> servo_test

# 3. æŸ¥çœ‹çº¿ç¨‹çŠ¶æ€
msh /> list_thread

# 4. æŸ¥çœ‹å†…å­˜ä½¿ç”¨
msh /> free
```

---

### 5.3 æ•…éšœæ’æŸ¥å‘½ä»¤

#### WiFiè¿æ¥é—®é¢˜

```shell
# æŸ¥çœ‹WiFiçŠ¶æ€
msh /> wifi_info

# æ–­å¼€é‡è¿
msh /> wifi_leave
msh /> connect_esp32

# æ‰‹åŠ¨æŒ‡å®šWiFi
msh /> wifi_join ESP32_DEV 12345678
```

#### èˆµæœºæ§åˆ¶é—®é¢˜

```shell
# åœæ­¢æ‰€æœ‰èˆµæœº
msh /> serv all_stop

# å…³é—­æ‰­çŸ©æ£€æŸ¥è¿æ¥
msh /> serv all_toff

# é‡æ–°æ‰“å¼€æ‰­çŸ©
msh /> serv all_ton

# æµ‹è¯•å•ä¸ªèˆµæœº
msh /> serv move 0 0 2
```

#### ç³»ç»ŸçŠ¶æ€æ£€æŸ¥

```shell
# æŸ¥çœ‹çº¿ç¨‹çŠ¶æ€
msh /> list_thread

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
msh /> free

# æŸ¥çœ‹å®šæ—¶å™¨
msh /> list_timer
```

---

## 6. æ§ä»¶åç§°å‚è€ƒ

### 6.1 HMIä¸²å£å±æ§ä»¶æ˜ å°„

| åŠŸèƒ½ | æ§ä»¶ç±»å‹ | æ§ä»¶åç§° | è¯´æ˜ |
|------|---------|---------|------|
| **WiFiçŠ¶æ€** | | | |
| WiFiçŠ¶æ€æ–‡æœ¬ | Text | `t_wifi` | æ˜¾ç¤ºSSIDæˆ–"Disconnected" |
| IPåœ°å€ | Text | `t_ip` | æ˜¾ç¤ºIPåœ°å€ |
| ä¿¡å·å¼ºåº¦ | Number | `n_rssi` | WiFi RSSIå€¼(dBm) |
| **èˆµæœºä½ç½®** | | | |
| èˆµæœº1ä½ç½® | Number | `n_servo1` | 0-4095 |
| èˆµæœº2ä½ç½® | Number | `n_servo2` | 0-4095 |
| èˆµæœº3ä½ç½® | Number | `n_servo3` | 0-4095 |
| èˆµæœº4ä½ç½® | Number | `n_servo4` | 0-4095 |
| **èˆµæœºé€Ÿåº¦** | | | |
| èˆµæœº1é€Ÿåº¦ | Slider | `h_speed1` | 0-255 |
| èˆµæœº2é€Ÿåº¦ | Slider | `h_speed2` | 0-255 |
| èˆµæœº3é€Ÿåº¦ | Slider | `h_speed3` | 0-255 |
| èˆµæœº4é€Ÿåº¦ | Slider | `h_speed4` | 0-255 |
| **ç³»ç»Ÿä¿¡æ¯** | | | |
| CPUä½¿ç”¨ç‡ | Text | `t_cpu` | "CPU: xx%" |
| å†…å­˜ä¿¡æ¯ | Text | `t_mem` | "Mem: xxx/xxx KB" |
| è¿è¡Œæ—¶é—´ | Text | `t_time` | "HH:MM:SS" |
| é€šç”¨æ¶ˆæ¯ | Text | `t_msg` | ç³»ç»Ÿæ¶ˆæ¯æç¤º |

---

## 7. å‚æ•°é€ŸæŸ¥è¡¨

### 7.1 èˆµæœºIDæ˜ å°„

| ID | æ‰‹æŒ‡ | è¯´æ˜ |
|----|------|------|
| 0 | é£ŸæŒ‡ | æœ€å¸¸ç”¨çš„æ§åˆ¶ |
| 1 | ä¸­æŒ‡ | æ¬¡å¸¸ç”¨çš„æ§åˆ¶ |
| 2 | æ— åæŒ‡ | è¾…åŠ©æ§åˆ¶ |
| 3 | å°æŒ‡ | è¾…åŠ©æ§åˆ¶ |

### 7.2 èˆµæœºä½ç½®ä»£ç 

| ä»£ç  | ä½ç½® | æ•°å€¼èŒƒå›´ |
|------|------|---------|
| 0 | ä¸­é—´ä½ç½® | çº¦2048 |
| 1 | æœ€å¤§ä½ç½®ï¼ˆå±•å¼€ï¼‰ | çº¦4095 |
| 2 | æœ€å°ä½ç½®ï¼ˆæ”¶ç¼©ï¼‰ | çº¦0 |

### 7.3 é€Ÿåº¦çº§åˆ«

| çº§åˆ« | åç§° | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| 1 | æ…¢é€Ÿ | ç²¾ç¡®å®šä½ã€æ¼”ç¤º |
| 2 | ä¸­é€Ÿ | æ—¥å¸¸ä½¿ç”¨ |
| 3 | å¿«é€Ÿ | å¿«é€Ÿå“åº” |
| 4 | æœ€å¿« | ç´§æ€¥åŠ¨ä½œ |

---

## 8. æ³¨æ„äº‹é¡¹

### 8.1 ä½¿ç”¨å‰æ£€æŸ¥

1. âœ… **WiFiè¿æ¥**: æ‰€æœ‰èˆµæœºæ§åˆ¶å‘½ä»¤éœ€è¦å…ˆè¿æ¥WiFi
2. âœ… **ç”µæºä¾›ç”µ**: ç¡®ä¿èˆµæœºç”µæºä¸º8.4Vï¼ˆä½¿ç”¨DC-DCé™å‹æ¨¡å—ï¼‰
3. âœ… **ä¸²å£è¿æ¥**: HMIå‘½ä»¤éœ€è¦ä¸²å£å±æ­£ç¡®è¿æ¥åˆ°UART1

### 8.2 å®‰å…¨æç¤º

1. âš ï¸ **ç”µå‹åŒ¹é…**: èˆµæœºé¢å®šç”µå‹8.4Vï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨12Vä¾›ç”µ
2. âš ï¸ **æ‰­çŸ©ä¿æŠ¤**: é•¿æ—¶é—´ä¸ç”¨æ—¶å»ºè®®å…³é—­æ‰­çŸ©ï¼ˆ`serv all_toff`ï¼‰
3. âš ï¸ **ç´§æ€¥åœæ­¢**: é‡åˆ°å¼‚å¸¸ç«‹å³æ‰§è¡Œ`serv all_stop`

### 8.3 å¸¸è§é”™è¯¯

| é”™è¯¯æç¤º | åŸå›  | è§£å†³æ–¹æ³• |
|---------|------|---------|
| `command not found` | å‘½ä»¤æ‹¼å†™é”™è¯¯ | æ£€æŸ¥å‘½ä»¤åç§°ï¼Œä½¿ç”¨`help`æŸ¥çœ‹å¯ç”¨å‘½ä»¤ |
| `WiFi connection timeout` | WiFiè¿æ¥å¤±è´¥ | æ£€æŸ¥ESP32æ˜¯å¦å¼€å¯APæ¨¡å¼ï¼ŒSSIDå’Œå¯†ç æ˜¯å¦æ­£ç¡® |
| `Failed to send HTTP request` | ç½‘ç»œæœªè¿æ¥ | å…ˆæ‰§è¡Œ`connect_esp32`è¿æ¥WiFi |
| `Invalid servo ID` | èˆµæœºIDè¶…å‡ºèŒƒå›´ | ä½¿ç”¨0-3èŒƒå›´å†…çš„ID |

---

## 9. æ›´æ–°å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|------|------|---------|
| v1.0 | 2025-11-15 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å«WiFiã€èˆµæœºã€HMIæ‰€æœ‰å‘½ä»¤ |

---

## 10. æŠ€æœ¯æ”¯æŒ

- **é¡¹ç›®ä»“åº“**: https://github.com/ZenvaMea/RT_Thread-Program
- **å¼€å‘æ–‡æ¡£**: è¯¦è§`å¼€å‘æ—¥å¿—.md`
- **ä½œè€…**: Cc

---

**Â© 2025 RT-Threadå¤–éª¨éª¼æ‰‹æŒ‡æ§åˆ¶ç³»ç»Ÿ**
